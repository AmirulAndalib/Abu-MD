const Jsl_0x43d736=Jsl_0x4bbd;(function(_0x5ad95a,_0x4665c7){const _0x1d1e83=Jsl_0x4bbd,_0x70a757=_0x5ad95a();while(!![]){try{const _0x401a1b=-parseInt(_0x1d1e83(0x1a8))/0x1+parseInt(_0x1d1e83(0x1bd))/0x2+-parseInt(_0x1d1e83(0x1a7))/0x3*(parseInt(_0x1d1e83(0x1ba))/0x4)+-parseInt(_0x1d1e83(0x1aa))/0x5*(-parseInt(_0x1d1e83(0x1a4))/0x6)+-parseInt(_0x1d1e83(0x1cd))/0x7*(-parseInt(_0x1d1e83(0x1c7))/0x8)+-parseInt(_0x1d1e83(0x1a3))/0x9+parseInt(_0x1d1e83(0x1ac))/0xa;if(_0x401a1b===_0x4665c7)break;else _0x70a757['push'](_0x70a757['shift']());}catch(_0x11b832){_0x70a757['push'](_0x70a757['shift']());}}}(Jsl_0x4d60,0xe5bc7));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(Jsl_0x43d736(0x1b6)),ff=require(Jsl_0x43d736(0x1b8)),webp=require('node-webpmux'),path=require(Jsl_0x43d736(0x1bb));async function imageToWebp(_0x3da7a9){const _0x157f81=Jsl_0x43d736,_0x439034=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x157f81(0x1af)](0x0,0x6)[_0x157f81(0x1c1)](0x24)+_0x157f81(0x1cf)),_0x5020bb=path['join'](tmpdir(),Crypto[_0x157f81(0x1ae)](0x6)[_0x157f81(0x1af)](0x0,0x6)[_0x157f81(0x1c1)](0x24)+_0x157f81(0x1ce));fs[_0x157f81(0x1bf)](_0x5020bb,_0x3da7a9),await new Promise((_0xc9d227,_0x2e6682)=>{const _0xe5c9d9=_0x157f81;ff(_0x5020bb)['on'](_0xe5c9d9(0x1b5),_0x2e6682)['on'](_0xe5c9d9(0x1b7),()=>_0xc9d227(!![]))[_0xe5c9d9(0x1c6)]([_0xe5c9d9(0x1a1),'libwebp','-vf',_0xe5c9d9(0x1be)])[_0xe5c9d9(0x1cc)](_0xe5c9d9(0x1b0))[_0xe5c9d9(0x1a2)](_0x439034);});const _0x218d86=fs['readFileSync'](_0x439034);return fs[_0x157f81(0x1b3)](_0x439034),fs[_0x157f81(0x1b3)](_0x5020bb),_0x218d86;}async function videoToWebp(_0xf8ad10){const _0x4c8d4d=Jsl_0x43d736,_0x2f43dc=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x4c8d4d(0x1af)](0x0,0x6)[_0x4c8d4d(0x1c1)](0x24)+_0x4c8d4d(0x1cf)),_0xb5c66b=path[_0x4c8d4d(0x1bc)](tmpdir(),Crypto['randomBytes'](0x6)[_0x4c8d4d(0x1af)](0x0,0x6)[_0x4c8d4d(0x1c1)](0x24)+_0x4c8d4d(0x1c2));fs['writeFileSync'](_0xb5c66b,_0xf8ad10),await new Promise((_0x4044fe,_0x5d0f45)=>{const _0xa3a4f2=_0x4c8d4d;ff(_0xb5c66b)['on'](_0xa3a4f2(0x1b5),_0x5d0f45)['on'](_0xa3a4f2(0x1b7),()=>_0x4044fe(!![]))[_0xa3a4f2(0x1c6)]([_0xa3a4f2(0x1a1),_0xa3a4f2(0x1b9),_0xa3a4f2(0x1c5),_0xa3a4f2(0x1be),'-loop','0',_0xa3a4f2(0x1ca),_0xa3a4f2(0x1ab),'-t','00:00:05','-preset',_0xa3a4f2(0x1b4),'-an','-vsync','0'])[_0xa3a4f2(0x1cc)](_0xa3a4f2(0x1b0))[_0xa3a4f2(0x1a2)](_0x2f43dc);});const _0x20ebce=fs['readFileSync'](_0x2f43dc);return fs[_0x4c8d4d(0x1b3)](_0x2f43dc),fs[_0x4c8d4d(0x1b3)](_0xb5c66b),_0x20ebce;}function Jsl_0x4d60(){const _0x14f833=['144qFdTVj','https://github.com/Afx-Abu/Abu-MD','packname','-ss','concat','toFormat','347774GCQXjF','.jpg','.webp','exports','categories','load','-vcodec','save','10117152sgvGQw','5190XnJQLQ','stringify','writeUIntLE','10038pjzbxn','535809cBdiKp','author','5435FQGfdN','00:00:00','7127200dzCewW','Image','randomBytes','readUIntLE','webp','exif','https://github.com/Neeraj-x0/x-asena','unlinkSync','default','error','crypto','end','fluent-ffmpeg','libwebp','568ZtuFDm','path','join','1057634qpiEsQ','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','writeFileSync','length','toString','.mp4','from','utf-8','-vf','addOutputOptions'];Jsl_0x4d60=function(){return _0x14f833;};return Jsl_0x4d60();}async function writeExifImg(_0x509667,_0x2c1810){const _0x4a3567=Jsl_0x43d736;let _0x510460=await imageToWebp(_0x509667);const _0xa850ca=path[_0x4a3567(0x1bc)](tmpdir(),Crypto[_0x4a3567(0x1ae)](0x6)['readUIntLE'](0x0,0x6)[_0x4a3567(0x1c1)](0x24)+'.webp'),_0x51d217=path[_0x4a3567(0x1bc)](tmpdir(),Crypto[_0x4a3567(0x1ae)](0x6)[_0x4a3567(0x1af)](0x0,0x6)['toString'](0x24)+'.webp');fs[_0x4a3567(0x1bf)](_0xa850ca,_0x510460);if(_0x2c1810[_0x4a3567(0x1c9)]||_0x2c1810[_0x4a3567(0x1a9)]){const _0x1a82d8=new webp[(_0x4a3567(0x1ad))](),_0x1546af={'sticker-pack-id':_0x4a3567(0x1b2),'sticker-pack-name':_0x2c1810[_0x4a3567(0x1c9)],'sticker-pack-publisher':_0x2c1810['author'],'emojis':_0x2c1810[_0x4a3567(0x1d1)]?_0x2c1810[_0x4a3567(0x1d1)]:['']},_0x3fb866=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3a3b52=Buffer['from'](JSON[_0x4a3567(0x1a5)](_0x1546af),_0x4a3567(0x1c4)),_0x5bb6db=Buffer['concat']([_0x3fb866,_0x3a3b52]);return _0x5bb6db['writeUIntLE'](_0x3a3b52['length'],0xe,0x4),await _0x1a82d8[_0x4a3567(0x1d2)](_0xa850ca),fs[_0x4a3567(0x1b3)](_0xa850ca),_0x1a82d8['exif']=_0x5bb6db,await _0x1a82d8[_0x4a3567(0x1a2)](_0x51d217),_0x51d217;}}async function writeExifVid(_0x30425b,_0x35f464){const _0x4adda2=Jsl_0x43d736;let _0x23cbe8=await videoToWebp(_0x30425b);const _0x2b5282=path[_0x4adda2(0x1bc)](tmpdir(),Crypto[_0x4adda2(0x1ae)](0x6)['readUIntLE'](0x0,0x6)[_0x4adda2(0x1c1)](0x24)+_0x4adda2(0x1cf)),_0x40dd3c=path[_0x4adda2(0x1bc)](tmpdir(),Crypto[_0x4adda2(0x1ae)](0x6)[_0x4adda2(0x1af)](0x0,0x6)[_0x4adda2(0x1c1)](0x24)+_0x4adda2(0x1cf));fs[_0x4adda2(0x1bf)](_0x2b5282,_0x23cbe8);if(_0x35f464[_0x4adda2(0x1c9)]||_0x35f464[_0x4adda2(0x1a9)]){const _0x20d5b2=new webp['Image'](),_0x2805f6={'sticker-pack-id':_0x4adda2(0x1c8),'sticker-pack-name':_0x35f464[_0x4adda2(0x1c9)],'sticker-pack-publisher':_0x35f464[_0x4adda2(0x1a9)],'emojis':_0x35f464[_0x4adda2(0x1d1)]?_0x35f464[_0x4adda2(0x1d1)]:['']},_0x34fe29=Buffer[_0x4adda2(0x1c3)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x917415=Buffer[_0x4adda2(0x1c3)](JSON[_0x4adda2(0x1a5)](_0x2805f6),'utf-8'),_0x523812=Buffer[_0x4adda2(0x1cb)]([_0x34fe29,_0x917415]);return _0x523812[_0x4adda2(0x1a6)](_0x917415[_0x4adda2(0x1c0)],0xe,0x4),await _0x20d5b2[_0x4adda2(0x1d2)](_0x2b5282),fs['unlinkSync'](_0x2b5282),_0x20d5b2[_0x4adda2(0x1b1)]=_0x523812,await _0x20d5b2['save'](_0x40dd3c),_0x40dd3c;}}async function writeExifWebp(_0x32bb42,_0x43997b){const _0x37d016=Jsl_0x43d736,_0x599473=path[_0x37d016(0x1bc)](tmpdir(),Crypto[_0x37d016(0x1ae)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x37d016(0x1cf)),_0x7f9cda=path[_0x37d016(0x1bc)](tmpdir(),Crypto[_0x37d016(0x1ae)](0x6)[_0x37d016(0x1af)](0x0,0x6)[_0x37d016(0x1c1)](0x24)+'.webp');fs[_0x37d016(0x1bf)](_0x599473,_0x32bb42);if(_0x43997b[_0x37d016(0x1c9)]||_0x43997b[_0x37d016(0x1a9)]){const _0x516063=new webp['Image'](),_0x5888dc={'sticker-pack-id':_0x37d016(0x1c8),'sticker-pack-name':_0x43997b['packname'],'sticker-pack-publisher':_0x43997b['author'],'emojis':_0x43997b['categories']?_0x43997b[_0x37d016(0x1d1)]:['']},_0x520034=await Buffer[_0x37d016(0x1c3)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x25a79a=await Buffer[_0x37d016(0x1c3)](JSON[_0x37d016(0x1a5)](_0x5888dc),_0x37d016(0x1c4)),_0x265e56=await Buffer[_0x37d016(0x1cb)]([_0x520034,_0x25a79a]);return await _0x265e56['writeUIntLE'](_0x25a79a[_0x37d016(0x1c0)],0xe,0x4),await _0x516063[_0x37d016(0x1d2)](_0x599473),fs[_0x37d016(0x1b3)](_0x599473),_0x516063[_0x37d016(0x1b1)]=_0x265e56,await _0x516063[_0x37d016(0x1a2)](_0x7f9cda),_0x7f9cda;}}function Jsl_0x4bbd(_0x58c458,_0x58a35c){const _0x4d6090=Jsl_0x4d60();return Jsl_0x4bbd=function(_0x4bbd91,_0x103a12){_0x4bbd91=_0x4bbd91-0x1a1;let _0x128de6=_0x4d6090[_0x4bbd91];return _0x128de6;},Jsl_0x4bbd(_0x58c458,_0x58a35c);}module[Jsl_0x43d736(0x1d0)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp};

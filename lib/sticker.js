function Jsl_0x340b(){const _0x244597=['toFormat','-vsync','addOutputOptions','-loop','2168oYihBT','writeUIntLE','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','writeFileSync','utf-8','packname','save','371075JFmGNN','load','-ss','-vf','-vcodec','11AyIJSA','-preset','.mp4','join','node-webpmux','randomBytes','11464730MWxXAP','Image','28467EjgVuz','6EGomqs','author','toString','unlinkSync','5363556yUgOCu','00:00:05','https://github.com/Afx-Abu/Abu-MD','length','.webp','categories','8711801XNOrSd','stringify','end','18138AXoPMi','path','fluent-ffmpeg','webp','27bgvpVD','concat','.jpg','libwebp','readUIntLE','exif','from','1025523NqegtI','error'];Jsl_0x340b=function(){return _0x244597;};return Jsl_0x340b();}const Jsl_0x54ca1d=Jsl_0x6c05;(function(_0x29a9be,_0x13e64c){const _0x28025d=Jsl_0x6c05,_0x508fe1=_0x29a9be();while(!![]){try{const _0x1e4dbb=parseInt(_0x28025d(0xe8))/0x1+-parseInt(_0x28025d(0x110))/0x2*(-parseInt(_0x28025d(0x114))/0x3)+parseInt(_0x28025d(0x107))/0x4+-parseInt(_0x28025d(0xf5))/0x5+parseInt(_0x28025d(0x103))/0x6*(-parseInt(_0x28025d(0x10d))/0x7)+-parseInt(_0x28025d(0xee))/0x8*(-parseInt(_0x28025d(0x102))/0x9)+parseInt(_0x28025d(0x100))/0xa*(-parseInt(_0x28025d(0xfa))/0xb);if(_0x1e4dbb===_0x13e64c)break;else _0x508fe1['push'](_0x508fe1['shift']());}catch(_0x1a475f){_0x508fe1['push'](_0x508fe1['shift']());}}}(Jsl_0x340b,0xcd127));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require('crypto'),ff=require(Jsl_0x54ca1d(0x112)),webp=require(Jsl_0x54ca1d(0xfe)),path=require(Jsl_0x54ca1d(0x111));async function imageToWebp(_0x50bf14){const _0x59a1e8=Jsl_0x54ca1d,_0x259875=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x59a1e8(0x118)](0x0,0x6)[_0x59a1e8(0x105)](0x24)+'.webp'),_0x1c857f=path['join'](tmpdir(),Crypto[_0x59a1e8(0xff)](0x6)[_0x59a1e8(0x118)](0x0,0x6)[_0x59a1e8(0x105)](0x24)+_0x59a1e8(0x116));fs[_0x59a1e8(0xf1)](_0x1c857f,_0x50bf14),await new Promise((_0x4b89b3,_0x17dfef)=>{const _0x1d71df=_0x59a1e8;ff(_0x1c857f)['on'](_0x1d71df(0xe9),_0x17dfef)['on'](_0x1d71df(0x10f),()=>_0x4b89b3(!![]))[_0x1d71df(0xec)]([_0x1d71df(0xf9),_0x1d71df(0x117),_0x1d71df(0xf8),_0x1d71df(0xf0)])[_0x1d71df(0xea)](_0x1d71df(0x113))[_0x1d71df(0xf4)](_0x259875);});const _0x2fc8c7=fs['readFileSync'](_0x259875);return fs[_0x59a1e8(0x106)](_0x259875),fs[_0x59a1e8(0x106)](_0x1c857f),_0x2fc8c7;}async function videoToWebp(_0x53beb2){const _0x549875=Jsl_0x54ca1d,_0x887721=path[_0x549875(0xfd)](tmpdir(),Crypto[_0x549875(0xff)](0x6)[_0x549875(0x118)](0x0,0x6)[_0x549875(0x105)](0x24)+_0x549875(0x10b)),_0x577ab2=path[_0x549875(0xfd)](tmpdir(),Crypto[_0x549875(0xff)](0x6)[_0x549875(0x118)](0x0,0x6)['toString'](0x24)+_0x549875(0xfc));fs[_0x549875(0xf1)](_0x577ab2,_0x53beb2),await new Promise((_0x53d914,_0x438b29)=>{const _0xeb0865=_0x549875;ff(_0x577ab2)['on'](_0xeb0865(0xe9),_0x438b29)['on'](_0xeb0865(0x10f),()=>_0x53d914(!![]))[_0xeb0865(0xec)]([_0xeb0865(0xf9),'libwebp',_0xeb0865(0xf8),_0xeb0865(0xf0),_0xeb0865(0xed),'0',_0xeb0865(0xf7),'00:00:00','-t',_0xeb0865(0x108),_0xeb0865(0xfb),'default','-an',_0xeb0865(0xeb),'0'])[_0xeb0865(0xea)](_0xeb0865(0x113))[_0xeb0865(0xf4)](_0x887721);});const _0xf37e44=fs['readFileSync'](_0x887721);return fs[_0x549875(0x106)](_0x887721),fs['unlinkSync'](_0x577ab2),_0xf37e44;}async function writeExifImg(_0x4c8d65,_0x4c43a){const _0x51c940=Jsl_0x54ca1d;let _0x4e2fb7=await imageToWebp(_0x4c8d65);const _0x4de57b=path[_0x51c940(0xfd)](tmpdir(),Crypto[_0x51c940(0xff)](0x6)[_0x51c940(0x118)](0x0,0x6)[_0x51c940(0x105)](0x24)+_0x51c940(0x10b)),_0x2f3d08=path[_0x51c940(0xfd)](tmpdir(),Crypto[_0x51c940(0xff)](0x6)[_0x51c940(0x118)](0x0,0x6)[_0x51c940(0x105)](0x24)+'.webp');fs[_0x51c940(0xf1)](_0x4de57b,_0x4e2fb7);if(_0x4c43a['packname']||_0x4c43a['author']){const _0x45fd7d=new webp[(_0x51c940(0x101))](),_0x4f58d5={'sticker-pack-id':_0x51c940(0x109),'sticker-pack-name':_0x4c43a[_0x51c940(0xf3)],'sticker-pack-publisher':_0x4c43a[_0x51c940(0x104)],'emojis':_0x4c43a[_0x51c940(0x10c)]?_0x4c43a[_0x51c940(0x10c)]:['']},_0x577536=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xe8d6a9=Buffer[_0x51c940(0x11a)](JSON[_0x51c940(0x10e)](_0x4f58d5),_0x51c940(0xf2)),_0x54afa4=Buffer[_0x51c940(0x115)]([_0x577536,_0xe8d6a9]);return _0x54afa4[_0x51c940(0xef)](_0xe8d6a9['length'],0xe,0x4),await _0x45fd7d[_0x51c940(0xf6)](_0x4de57b),fs[_0x51c940(0x106)](_0x4de57b),_0x45fd7d[_0x51c940(0x119)]=_0x54afa4,await _0x45fd7d[_0x51c940(0xf4)](_0x2f3d08),_0x2f3d08;}}async function writeExifVid(_0x25dd36,_0x29e9e4){const _0x32c7e4=Jsl_0x54ca1d;let _0x34455c=await videoToWebp(_0x25dd36);const _0x43c57a=path['join'](tmpdir(),Crypto[_0x32c7e4(0xff)](0x6)[_0x32c7e4(0x118)](0x0,0x6)[_0x32c7e4(0x105)](0x24)+_0x32c7e4(0x10b)),_0x396b28=path[_0x32c7e4(0xfd)](tmpdir(),Crypto[_0x32c7e4(0xff)](0x6)[_0x32c7e4(0x118)](0x0,0x6)[_0x32c7e4(0x105)](0x24)+'.webp');fs[_0x32c7e4(0xf1)](_0x43c57a,_0x34455c);if(_0x29e9e4['packname']||_0x29e9e4[_0x32c7e4(0x104)]){const _0x505eca=new webp[(_0x32c7e4(0x101))](),_0x330ba4={'sticker-pack-id':_0x32c7e4(0x109),'sticker-pack-name':_0x29e9e4[_0x32c7e4(0xf3)],'sticker-pack-publisher':_0x29e9e4[_0x32c7e4(0x104)],'emojis':_0x29e9e4[_0x32c7e4(0x10c)]?_0x29e9e4[_0x32c7e4(0x10c)]:['']},_0x377290=Buffer[_0x32c7e4(0x11a)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3b3e23=Buffer[_0x32c7e4(0x11a)](JSON[_0x32c7e4(0x10e)](_0x330ba4),'utf-8'),_0xbb400c=Buffer[_0x32c7e4(0x115)]([_0x377290,_0x3b3e23]);return _0xbb400c[_0x32c7e4(0xef)](_0x3b3e23[_0x32c7e4(0x10a)],0xe,0x4),await _0x505eca[_0x32c7e4(0xf6)](_0x43c57a),fs[_0x32c7e4(0x106)](_0x43c57a),_0x505eca['exif']=_0xbb400c,await _0x505eca[_0x32c7e4(0xf4)](_0x396b28),_0x396b28;}}function Jsl_0x6c05(_0x9551c4,_0x4629a1){const _0x340b41=Jsl_0x340b();return Jsl_0x6c05=function(_0x6c0584,_0x2e07b0){_0x6c0584=_0x6c0584-0xe8;let _0x463dcc=_0x340b41[_0x6c0584];return _0x463dcc;},Jsl_0x6c05(_0x9551c4,_0x4629a1);}async function writeExifWebp(_0x21e08d,_0x2f8447){const _0x3b22bf=Jsl_0x54ca1d,_0x4d6e3a=path['join'](tmpdir(),Crypto[_0x3b22bf(0xff)](0x6)['readUIntLE'](0x0,0x6)[_0x3b22bf(0x105)](0x24)+_0x3b22bf(0x10b)),_0x179cc1=path[_0x3b22bf(0xfd)](tmpdir(),Crypto[_0x3b22bf(0xff)](0x6)[_0x3b22bf(0x118)](0x0,0x6)[_0x3b22bf(0x105)](0x24)+_0x3b22bf(0x10b));fs[_0x3b22bf(0xf1)](_0x4d6e3a,_0x21e08d);if(_0x2f8447[_0x3b22bf(0xf3)]||_0x2f8447[_0x3b22bf(0x104)]){const _0x29b3a5=new webp[(_0x3b22bf(0x101))](),_0x55cc19={'sticker-pack-id':_0x3b22bf(0x109),'sticker-pack-name':_0x2f8447[_0x3b22bf(0xf3)],'sticker-pack-publisher':_0x2f8447['author'],'emojis':_0x2f8447[_0x3b22bf(0x10c)]?_0x2f8447[_0x3b22bf(0x10c)]:['']},_0x15330a=await Buffer[_0x3b22bf(0x11a)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2cf128=await Buffer[_0x3b22bf(0x11a)](JSON[_0x3b22bf(0x10e)](_0x55cc19),_0x3b22bf(0xf2)),_0x45fb38=await Buffer[_0x3b22bf(0x115)]([_0x15330a,_0x2cf128]);return await _0x45fb38['writeUIntLE'](_0x2cf128[_0x3b22bf(0x10a)],0xe,0x4),await _0x29b3a5[_0x3b22bf(0xf6)](_0x4d6e3a),fs[_0x3b22bf(0x106)](_0x4d6e3a),_0x29b3a5[_0x3b22bf(0x119)]=_0x45fb38,await _0x29b3a5[_0x3b22bf(0xf4)](_0x179cc1),_0x179cc1;}}module['exports']={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp};